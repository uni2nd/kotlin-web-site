# Kotlin website
[![Official project][project-badge]][project-url] [![Slack][slack-badge]][slack-url] 

This is the source for the [http://kotlinlang.org](http://kotlinlang.org).

- [Installation](#installation)
- [How to run](#how-to-run)
- [Project structure & overview](#project-structure)
- [Writing content](#writing-content)
- [Filing bugs](#filing-bugs)

## 설치

1. 사이트를 실행하기 위해서는 Docker 가 필요합니다. [macOS](https://docs.docker.com/docker-for-mac/install/#download-docker-for-mac) 와 
   [Windows](https://docs.docker.com/docker-for-windows/install/#download-docker-for-windows).
2. 프론트엔드를 개발할 생각이라면, Yarn 패키지 매니저도 필요합니다. ([설치 방법](https://yarnpkg.com/lang/en/docs/install/)).
   프론트엔드 디펜던시도 같이 설치하는 것을 잊지 마세요. - `yarn install`.
3. 모든 상세한 앱 파라미터는 env-file 에 저장되어 있습니다. `.env.sample` 샘플 파일을 복사하여 `.env` 로 이름을 바꾸어 주세요.
   필요한 값을 변경하시면 됩니다.

## 실행방법

- **한번에 실행하는 옵션(컨텐츠 저자에게 맞는 방법)**:
  - `docker-compose up`. 모든 환경을 설정하고 [localhost:5000](http://localhost:5000) 에 사이트를 생성합니다.
- **개발자를 위한 2단계 옵션**:
  - `docker-compose up website` 명령은 [localhost:5000](http://localhost:5000) 에 서버만 동작시킵니다.
  - `yarn start` 명령은 webpack-dev-server 를[localhost:9000](http://localhost:9000) 위에 실행시킵니다.
     이 주소는 개발용도로만 쓰여야 합니다. 원본 서버에서부터 온 모든 페이지는 프록시될 것입니다.
     
<a id="project-structure"></a>
## Project structure & overview

### Data

All data is stored in the \*.yml files in folder `_data`:

- [_nav.yml](_data/_nav.yml) site navigation and PDF building.
- [releases.yml](_data/releases.yml) info about releases.
- [videos.yml](_data/videos.yml) data for the Videos page. The `content` property is used to create categories.
  It contains a list of videos or other categories. Maximum tree depth level is 3.
- [events.yml](_data/events.yml) event data.

### Templates

Kotlinlang uses [Jinja2](http://jinja.pocoo.org/docs/dev/) templates that can be found in templates folder.
Note that all Markdown files are processed as Jinja templates before being converted to HTML. 
This allows you to use all Jinja power inside Markdown (for example, build urls with url_for function).

### Page metadata

Every page can have an unlimited number of metadata fields. More information [here](http://jekyllrb.com/docs/frontmatter/).
The most important of them are the page template (e.g. `layout: reference`) and its type (e.g. `type: tutorial`). `category` and `title` fields are added for future development.

### Kotlin grammar reference

The Kotlin grammar reference (grammar.xml) is generated by the [Kotlin grammar generator](https://github.com/JetBrains/kotlin-grammar-generator) from the 
[Kotlin grammar definition](https://github.com/JetBrains/kotlin/tree/master/grammar).

## Writing content

### Markup

kramdown with some additions (like GitHub fenced code blocks) is used as Markdown parser.
See the complete syntax reference at the [kramdown site](http://kramdown.gettalong.org/syntax.html).

### Specifying page element attributes

With kramdown you can assign HTML attributes to page elements via `{:%param%}`. E.g.:

- `*important text*{:.important}` - produces `<em class="important">important text</em>`
- `*important text*{:#id}` - produces `<em id="id">important text</em>`

For block elements this instruction must be specified on the line following element definition:

```
This is a paragraph
{:.important}

This is a paragraph
```

More information about attributes can be found [here](http://kramdown.gettalong.org/syntax.html#inline-attribute-lists).

### Custom element styles

#### Inline elements

- `{:.keyword}` highlights a keyword.
- `{:.error}` highlights an error.
- `{:.warning}` highlights a warning.

#### Tables

- `{:.wide}` stretches a table to occupy the entire width of a page.
- `{:.zebra}` interleaves table rows.

E.g.:

```
| Expression | Translated to |
|------------|---------------|
| `a++` | `a.inc()` + see below |
| `a--` | `a.dec()` + see below |
{:.wide.zebra}
```

#### Quotation blocks

They're used in a slightly other manner that they were originally designed for: as universal block container elements.

- `{:.note}` highlights a note block.

E.g.:

```
> **`inc()/dec()` shouldn't mutate the receiver object**.
>
> By "changing the receiver" we mean `the receiver-variable`, not the receiver object.
{:.note}
```

## Filing Bugs
We use [YouTrack](http://youtrack.jetbrains.com/issues/KT) for bug reports and suggestions. 
Click [here to report an issue](http://youtrack.jetbrains.com/newIssue?project=KT&clearDraft=true&c=Subsystems+Web+Site).


[project-url]: https://confluence.jetbrains.com/display/ALL/JetBrains+on+GitHub
[project-badge]: http://jb.gg/badges/official.svg
[slack-url]: http://slack.kotlinlang.org
[slack-badge]: http://slack.kotlinlang.org/badge.svg
